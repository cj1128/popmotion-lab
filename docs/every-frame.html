<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <script src="vendor/popmotion.global.min.js"></script>
  <link rel="stylesheet" type="text/css" href="vendor/bulma.min.css">
  <title>Every Frame</title>
  <style type="text/css">
    .main {
      height: 600px;
    }

    body {
      --pink: #FF1C68;
      --green: #14D790;
      --blue: #198FE3;
      --black: #21282D;
      --purple: #9B65DE;
    }

    .wrapper {
      display: flex;
      justify-content: space-around;
    }

    .balls {
      display: flex;
      height: 55px;
      align-items: stretch;
    }

    .ball {
      background: var(--purple);
      border-radius: 50%;
      margin-right: 25px;
      width: 55px;
    }

    .ball:nth-child(4n + 2) {
      background: var(--green);
    }

    .ball:nth-child(4n + 3) {
      background: var(--pink);
    }

    .ball:nth-child(4n + 4) {
      background: var(--blue);
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="level main">
      <div class="level-item">
        <div>
          <h1 class="title has-text-centered">Every Frame</h1>

          <div class="wrapper">
            <div class="balls">
              <div class="ball"></div>
              <div class="ball"></div>
              <div class="ball"></div>
              <div class="ball"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    var { everyFrame, styler } = window.popmotion

    var balls = document.querySelectorAll(".ball")
    var ballStylers = Array.from(balls).map(styler)

    var distance = 150

    everyFrame().start(timestamp => {
      ballStylers.map((s, i) => {
        s.set("y", distance * Math.sin(0.004 * timestamp + i * 0.5))
      })
    })
  </script>
</body>
</html>
