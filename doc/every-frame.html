<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <script src="vendor/popmotion.global.min.js"></script>
  <link rel="stylesheet" type="text/css" href="base.css">
  <title>Every Fream</title>
  <style type="text/css">
    body {
      --pink: #FF1C68;
      --green: #14D790;
      --blue: #198FE3;
      --black: #21282D;
      --purple: #9B65DE;
    }

    .container {
      display: flex;
      justify-content: space-around;
      margin-top: 100px;
    }

    .balls {
      display: flex;
      height: 75px;
      align-items: stretch;
    }

    .ball {
      background: var(--purple);
      border-radius: 50%;
      margin-right: 25px;
      width: 75px;
    }

    .ball:nth-child(4n + 2) {
      background: var(--green);
    }

    .ball:nth-child(4n + 3) {
      background: var(--pink);
    }

    .ball:nth-child(4n + 4) {
      background: var(--blue);
    }
  </style>
</head>
<body>
    <h1>Every Frame</h1>

    <div class="container">
      <div class="balls">
        <div class="ball"></div>
        <div class="ball"></div>
        <div class="ball"></div>
        <div class="ball"></div>
      </div>
    </div>

    <script type="text/javascript">
      const { everyFrame, styler } = window.popmotion

      const balls = document.querySelectorAll(".ball")
      const ballStylers = Array.from(balls).map(styler)

      const distance = 150

      everyFrame().start(timestamp => {
        ballStylers.map((s, i) => {
          s.set("y", distance * Math.sin(0.004 * timestamp + i * 0.5))
        })
      })
    </script>
</div>

</body>
</html>
